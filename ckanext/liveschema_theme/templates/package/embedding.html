{% extends "package/read_base.html" %}

{% block subtitle %}{{ _('Embedding') }} - {{ super() }}{% endblock %}

{% block primary_content_inner %}
  <h1 class="hide-heading">{% block page_heading %}{{ _('Embedding') }}{% endblock %}</h1>
    {% if EmbList %}
      <header>
        <h1>Latest Knowledge Embedding resources generated by the <a href="/service/embedder/{{ pkg.name }}">Knowledge Embedder</a></h1>
      </header>
      <ul class="{% block resource_list_class %}resource-list{% endblock %}">
        {% for Emb in EmbList %}
          {% snippet 'package/snippets/resource_item.html', pkg=pkg, res=Emb, can_edit=can_edit %}
        {% endfor %}
      </ul>
    {% else %}
      <h1>No Embedding resources available </h1>
      {% set resLink = h.liveschema_theme_format_selection(pkg.name, "CSV") %}
      <form action="/service/embedder" method="post">
        <input type="hidden" value="{{ pkg.name }},{{ resLink }}" name="dataset" />
        <button class="btn btn-primary btn-lg"> 
            Generate a Knowledge Embedding
        </button>
      </form>
      <br />
      <p>
        Refer to the <a href="/service/embedder/{{ pkg.name }}">Knowledge Embedder service</a> for advanced options.
      </p>
      <br />
    {% endif %}
{% endblock %}


{% block secondary_content %}
  {% snippet "package/snippets/helper_embedding.html" %}
{% endblock %}