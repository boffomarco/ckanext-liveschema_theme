{% extends "package/read_base.html" %}

{% block subtitle %}{{ _('Visualization') }} - {{ super() }}{% endblock %}

{% block primary_content_inner %}
  <h1 class="hide-heading">{% block page_heading %}{{ _('Visualization') }}{% endblock %}</h1>
  {% if visualizationResource %}
    <header>
      <h1>Visualization input generated by the <a href="/service/visualization_generator/{{ pkg.name }}">Visualization Generator</a></h1>
    </header>
    <ul class="{% block resource_list_class %}resource-list{% endblock %}">
      {% snippet 'package/snippets/resource_item.html', res=visualizationResource, pkg=pkg, can_edit=can_edit %}
    </ul>
  {% else %}

    <h1>No Visualization resources available </h1>
    {% set resLink = h.liveschema_theme_format_selection(pkg.name, "FCA") %}
    <form action="/service/visualization_generator" method="post">
      <input type="hidden" value="{{ pkg.name }},{{ resLink }}" name="dataset" />
      <button class="btn btn-primary btn-lg"> 
          Generate the Visualization resource
      </button>
    </form>
    <br />
    <br />
  {% endif %}
  <br />
{% endblock %}


{% block secondary_content %}
  {% snippet "package/snippets/helper_visualization.html" %}
{% endblock %}